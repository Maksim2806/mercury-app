(this["webpackJsonpmercury-app"]=this["webpackJsonpmercury-app"]||[]).push([[0],{23:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(16),s=a.n(r),o=(a(23),a(24),a(2)),i=a.n(o),u=a(4),l=a(3),j=(a(26),a(27),a.p+"static/media/Academy-Weather-bg160.1a743710.svg"),d=a(0),b=function(){return Object(d.jsxs)("figure",{className:"weather-card-placeholder",children:[Object(d.jsx)("img",{className:"weather-card-placeholder__img",src:j,alt:"placeholder"}),Object(d.jsx)("figcaption",{className:"weather-card-placeholder__figcaption",children:"Fill in all the fields and the weather will be displayed"})]})},m=function(e){var t=e.title,a=e.content,n=e.inputComponents;return Object(d.jsxs)("div",{className:"weather-card",children:[Object(d.jsx)("h2",{className:"weather-card__title",children:t}),Object(d.jsx)("div",{className:"weather-card__inputs",children:n.map((function(e){return e}))}),Object(d.jsx)("div",{className:"weater-card__content",children:a||Object(d.jsx)(b,{})})]})},f=a(8),v=a.n(f),h=a.p+"static/media/chevron-top.01db9ee1.svg",p=a.p+"static/media/chevron-bottom.a5408ea9.svg",O=(a(29),function(e){var t=e.options,a=e.value,c=e.onChange,r=e.defaultValue,s=e.placeholder,o=void 0===s?"Select city":s,i=Object(n.useState)(!1),u=Object(l.a)(i,2),j=u[0],b=u[1],m=Object(n.useMemo)((function(){return a||r}),[a,r]),f=function(e){return-1!==e.search(/\bselect\b/)},O=Object(n.useCallback)((function(e){var t=e.target.className||"";(f||-1!==t.search(/\bselect__img-arrow\b/))&&b((function(e){return!e}))}),[]),x=Object(n.useCallback)((function(e){return function(t){t.stopPropagation(),b(!1),c(e)}}),[c]),g=Object(n.useCallback)((function(e){!e.composedPath().some((function(e){var t=e.className||"";return f(t)||-1!==t.search(/\bselect-options\b/)}))&&b(!1)}),[]);Object(n.useEffect)((function(){return document.addEventListener("click",g),function(){document.removeEventListener("click",g)}}),[g]);var _=Object(n.useMemo)((function(){return j?h:p}),[j]);return Object(d.jsxs)("div",{className:v()({select:!0,select_active:j,select_filled:!!m}),onClick:O,children:[(null===m||void 0===m?void 0:m.name)||o,Object(d.jsx)("img",{className:"select__img-arrow",src:_,alt:"arrow"}),j&&Object(d.jsx)("div",{className:"select__options",children:t.map((function(e){return Object(d.jsx)("div",{className:"select__oneOption",onClick:x(e),children:e.name},e.key)}))})]})}),x=[{name:"Samara",key:"Samara",value:{lat:53.195873,lon:50.100193}},{name:"Tolyatti",key:"Tolyatti",value:{lat:53.507836,lon:49.420393}},{name:"Saratov",key:"Saratov",value:{lat:51.533557,lon:46.034257}},{name:"Kazan",key:"Kazan",value:{lat:55.796127,lon:49.106405}},{name:"Krasnodar",key:"Krasnodar",value:{lat:45.03547,lon:38.975313}}],g=a(5),_=a(12),w=a(13),N=a(14),k=a(18),y=a(17),C=function(e){Object(w.a)(a,e);var t=Object(N.a)(a);function a(e,n){var c;return Object(_.a)(this,a),(c=t.call(this)).code=void 0,c.message=void 0,c.code=e,c.message=n,c}return a}(Object(k.a)(Error)),S=function(e){Object(w.a)(a,e);var t=Object(N.a)(a);function a(e){return Object(_.a)(this,a),t.call(this,500,e||"Internal Server Error")}return a}(C),I=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(y.stringify)(Object(g.a)(Object(g.a)({},a||{}),{},{appid:"17a18e38ba10785e872528aa36f1e7eb"})),e.prev=1,e.next=4,fetch("".concat("https://api.openweathermap.org/data/2.5").concat(t,"?").concat(c),Object(g.a)({},n||{}));case 4:if(!((r=e.sent).status>=400)){e.next=9;break}return e.next=8,r.json();case 8:throw e.sent;case 9:return e.abrupt("return",r.json());case 12:throw e.prev=12,e.t0=e.catch(1),500===e.t0.code?new S:new C(e.t0.cod,e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a,n){return e.apply(this,arguments)}}(),M={get:function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},P=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/onecall/timemachine",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(g.a)(Object(g.a)({},t),{},{exclude:"minutely,hourly,current,alerts"}),e.next=3,M.get("/onecall",a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=(a(43),function(e){var t=e.item,a=e.isLastItem;return Object(d.jsx)("div",{className:v()({carouselItem:!0,carouselItem_noMargin:!!a}),children:t})}),E=(a(44),a.p+"static/media/chevron-left-1.d8b7c444.svg"),A=a.p+"static/media/chevron-left.668da982.svg",F=function(e){var t=e.content,a=Object(n.useRef)(null),c=Object(n.useCallback)((function(){var e,t,n=null===(e=a.current)||void 0===e?void 0:e.scrollLeft;null===(t=a.current)||void 0===t||t.scrollTo({left:void 0!==n?n-184:0,behavior:"smooth"})}),[a]),r=Object(n.useCallback)((function(){var e,t,n=null===(e=a.current)||void 0===e?void 0:e.scrollLeft;null===(t=a.current)||void 0===t||t.scrollTo({left:void 0!==n?n+184:0,behavior:"smooth"})}),[a]);return Object(d.jsx)("div",{className:"carousel__wrapper",children:Object(d.jsxs)("div",{className:"carousel",ref:a,children:[Object(d.jsx)("div",{onClick:c,className:"carousel__arrow carousel__leftArrow",children:Object(d.jsx)("img",{className:"carousel__leftArrowImage",src:A,alt:"arrow-left"})}),Object(d.jsx)("div",{className:"carousel__container",children:t.map((function(e,a){return Object(d.jsx)(D,{item:e,isLastItem:a===t.length-1},a)}))}),Object(d.jsx)("div",{onClick:r,className:"carousel__arrow carousel__rightArrow",children:Object(d.jsx)("img",{className:"carousel__rightArrowImage",src:E,alt:"right-arrow"})})]})})},T=function(e){return new Date(1e3*e)},K=function(e){var t="".concat(e);return t.length<2?"0".concat(t):t},V=function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return"".concat(t,"-").concat(K(a),"-").concat(K(n))},z=function(e){var t=e-273.15;return Math.round(t)},J=function(e){var t=e.toLocaleString("en-US",{day:"numeric",year:"numeric",month:"long"}).split(" "),a=Object(l.a)(t,3),n=a[0],c=a[1],r=a[2],s=c.slice(0,-1);return"".concat(s," ").concat(n," ").concat(r)},W=(a(45),function(e){var t,a=e.item,n=a.date,c=a.iconName,r=a.temperature;return Object(d.jsxs)("div",{className:"card-container",children:[Object(d.jsx)("div",{className:"card-container__date",children:J(n)}),Object(d.jsx)("div",{className:"card-container__img-wrapper",children:Object(d.jsx)("img",{className:"card-container__img",src:(t=c,"http://openweathermap.org/img/wn/".concat(t,"@2x.png")),alt:"weather icon"})}),Object(d.jsxs)("div",{className:"card-container__weather-temperature",children:[z(r)>0?"+".concat(z(r)):z(r),"\xb0"]})]})}),B=(a(46),function(){return Object(d.jsx)("div",{className:"loader-wrapper",children:Object(d.jsx)("div",{className:"loader-content",children:Object(d.jsx)("div",{className:"loader-content__circle"})})})}),R=(a(47),function(e){var t=e.message,a=void 0===t?"Oooops, something went wrong ...":t;return Object(d.jsx)("div",{className:"error-container",children:Object(d.jsx)("div",{className:"error-container__message",children:a})})}),U=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),s=Object(l.a)(r,2),o=s[0],j=s[1],b=Object(n.useState)(!1),f=Object(l.a)(b,2),v=f[0],h=f[1],p=Object(n.useState)(),g=Object(l.a)(p,2),_=g[0],w=g[1],N=Object(n.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t),h(!0),j(void 0),e.prev=3,e.next=6,L({lat:t.value.lat,lon:t.value.lon});case 6:a=e.sent,c(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),j(e.t0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[]),k=Object(n.useMemo)((function(){if(v)return Object(d.jsx)(B,{});if(o)return Object(d.jsx)(R,{message:o.message});if(a){var e=a.daily.slice(0,-1).map((function(e){var t=e.dt,a=e.weather,n=e.temp;return Object(d.jsx)(W,{item:{date:T(t),iconName:a[0].icon,temperature:n.day}})}));return Object(d.jsx)(F,{content:e})}}),[a,v,o]);return Object(d.jsx)(m,{title:"7 Days Forecast",inputComponents:[Object(d.jsx)(O,{value:_,options:x,onChange:N})],content:k})},Y=(a(48),function(e){var t=e.value,a=e.defaultValue,c=e.onChange,r=e.placeholder,s=void 0===r?"Select Date":r,o=Object(n.useCallback)((function(e){c(new Date(e.target.value))}),[c]);return Object(d.jsx)("input",{value:t&&V(t),type:"date",className:"input",onChange:o,defaultValue:a&&V(a),placeholder:s})}),q=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),s=Object(l.a)(r,2),o=s[0],j=s[1],b=Object(n.useState)(!1),f=Object(l.a)(b,2),v=f[0],h=f[1],p=Object(n.useState)(),g=Object(l.a)(p,2),_=g[0],w=g[1],N=Object(n.useState)(),k=Object(l.a)(N,2),y=k[0],C=k[1],S=Object(n.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),j(void 0),e.prev=2,e.next=5,P({lat:t.value.lat,lon:t.value.lon,dt:(r=a,Math.round(r.getTime()/1e3))});case 5:n=e.sent,c(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),j(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}var r}),e,null,[[2,9,12,15]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),I=Object(n.useCallback)((function(e){w(e),y&&S(e,y)}),[S,y]),M=Object(n.useCallback)((function(e){C(e),_&&S(_,e)}),[S,_]),L=Object(n.useMemo)((function(){if(v)return Object(d.jsx)(B,{});if(o)return Object(d.jsx)(R,{message:o.message});if(a){var e=a.current,t=e.dt,n=e.weather,c=e.temp;return Object(d.jsx)(W,{item:{date:T(t),iconName:n[0].icon,temperature:c}})}}),[a,v,o]);return Object(d.jsx)(m,{title:"Forecast for a Date in the Past",inputComponents:[Object(d.jsx)(O,{value:_,options:x,onChange:I}),Object(d.jsx)(Y,{value:y,onChange:M})],content:L})},G=(a(49),function(){return Object(d.jsxs)("div",{className:"weather-cards",children:[Object(d.jsx)(U,{}),Object(d.jsx)(q,{})]})}),H=function(){return Object(d.jsxs)("div",{className:"forecastPage",children:[Object(d.jsxs)("div",{className:"forecastPage__title",children:[Object(d.jsx)("div",{className:"forecastPage__titleItem forecastPage__first",children:"Weather"}),Object(d.jsx)("div",{className:"forecastPage__titleItem forecastPage__second",children:"forecast"})]}),Object(d.jsx)(G,{})]})},Q=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(H,{})})};s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(Q,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.a0cb6d07.chunk.js.map