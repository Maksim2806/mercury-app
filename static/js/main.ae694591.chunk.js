(this["webpackJsonpmercury-app"]=this["webpackJsonpmercury-app"]||[]).push([[0],{23:function(e,t,a){},24:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(16),s=a.n(r),o=(a(23),a(24),a(2)),i=a.n(o),u=a(4),l=a(3),j=(a(26),a(27),a.p+"static/media/Academy-Weather-bg160.1a743710.svg"),b=a(0),d=function(){return Object(b.jsxs)("figure",{className:"weather-card-placeholder",children:[Object(b.jsx)("img",{className:"weather-card-placeholder__img",src:j,alt:"placeholder"}),Object(b.jsx)("figcaption",{className:"weather-card-placeholder__figcaption",children:"Fill in all the fields and the weather will be displayed"})]})},f=function(e){var t=e.title,a=e.content,n=e.inputComponents;return Object(b.jsxs)("div",{className:"weather-card",children:[Object(b.jsx)("h2",{className:"weather-card__title",children:t}),Object(b.jsx)("div",{className:"weather-card__inputs",children:n.map((function(e){return e}))}),Object(b.jsx)("div",{className:"weater-card__content",children:a||Object(b.jsx)(d,{})})]})},v=a(8),m=a.n(v),p=a.p+"static/media/chevron-top.01db9ee1.svg",h=a.p+"static/media/chevron-bottom.a5408ea9.svg",O=(a(29),function(e){var t=e.options,a=e.value,c=e.onChange,r=e.defaultValue,s=e.placeholder,o=void 0===s?"Select city":s,i=Object(n.useState)(!1),u=Object(l.a)(i,2),j=u[0],d=u[1],f=Object(n.useMemo)((function(){return a||r}),[a,r]),v=function(e){return-1!==e.search(/\bselect\b/)},O=Object(n.useCallback)((function(e){var t=e.target.className||"";(v||-1!==t.search(/\bselect__img-arrow\b/))&&d((function(e){return!e}))}),[]),x=Object(n.useCallback)((function(e){return function(t){t.stopPropagation(),d(!1),c(e)}}),[c]),g=Object(n.useCallback)((function(e){!e.composedPath().some((function(e){var t=e.className||"";return v(t)||-1!==t.search(/\bselect-options\b/)}))&&d(!1)}),[]);Object(n.useEffect)((function(){return document.addEventListener("click",g),function(){document.removeEventListener("click",g)}}),[g]);var _=Object(n.useMemo)((function(){return j?p:h}),[j]);return Object(b.jsxs)("div",{className:m()({select:!0,select_active:j,select_filled:!!f}),onClick:O,children:[(null===f||void 0===f?void 0:f.name)||o,Object(b.jsx)("img",{className:"select__img-arrow",src:_,alt:"arrow"}),j&&Object(b.jsx)("div",{className:"select__options",children:t.map((function(e){return Object(b.jsx)("div",{className:"select__oneOption",onClick:x(e),children:e.name},e.key)}))})]})}),x=[{name:"Samara",key:"Samara",value:{lat:53.195873,lon:50.100193}},{name:"Tolyatti",key:"Tolyatti",value:{lat:53.507836,lon:49.420393}},{name:"Saratov",key:"Saratov",value:{lat:51.533557,lon:46.034257}},{name:"Kazan",key:"Kazan",value:{lat:55.796127,lon:49.106405}},{name:"Krasnodar",key:"Krasnodar",value:{lat:45.03547,lon:38.975313}}],g=a(5),_=a(12),w=a(13),k=a(14),N=a(18),y=a(17),C=function(e){Object(w.a)(a,e);var t=Object(k.a)(a);function a(e,n){var c;return Object(_.a)(this,a),(c=t.call(this)).code=void 0,c.message=void 0,c.code=e,c.message=n,c}return a}(Object(N.a)(Error)),S=function(e){Object(w.a)(a,e);var t=Object(k.a)(a);function a(e){return Object(_.a)(this,a),t.call(this,500,e||"Internal Server Error")}return a}(C),P=function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(y.stringify)(Object(g.a)(Object(g.a)({},a||{}),{},{appid:"17a18e38ba10785e872528aa36f1e7eb"})),e.prev=1,e.next=4,fetch("".concat("https://api.openweathermap.org/data/2.5").concat(t,"?").concat(c),Object(g.a)({},n||{}));case 4:if(!((r=e.sent).status>=400)){e.next=9;break}return e.next=8,r.json();case 8:throw e.sent;case 9:return e.abrupt("return",r.json());case 12:throw e.prev=12,e.t0=e.catch(1),500===e.t0.code?new S:new C(e.t0.cod,e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a,n){return e.apply(this,arguments)}}(),I={get:function(){var e=Object(u.a)(i.a.mark((function e(t,a,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t,a,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},M=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.get("/onecall/timemachine",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(g.a)(Object(g.a)({},t),{},{exclude:"minutely,hourly,current,alerts"}),e.next=3,I.get("/onecall",a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=(a(43),function(e){var t=e.item,a=e.isLastItem;return Object(b.jsx)("div",{className:m()({carouselItem:!0,carouselItem_noMargin:!!a}),children:t})}),L=(a(44),function(e){var t=e.content,a=Object(n.useRef)(null),c=Object(n.useCallback)((function(){var e,t,n=null===(e=a.current)||void 0===e?void 0:e.scrollLeft;null===(t=a.current)||void 0===t||t.scrollTo({left:void 0!==n?n-170:0,behavior:"smooth"})}),[a]),r=Object(n.useCallback)((function(){var e,t,n=null===(e=a.current)||void 0===e?void 0:e.scrollLeft;null===(t=a.current)||void 0===t||t.scrollTo({left:void 0!==n?n+170:0,behavior:"smooth"})}),[a]);return Object(b.jsx)("div",{className:"carousel__wrapper",children:Object(b.jsxs)("div",{className:"carousel",ref:a,children:[Object(b.jsx)("div",{onClick:c,className:"carousel__arrow carousel__leftArrow",children:"<"}),Object(b.jsx)("div",{className:"carousel__container",children:t.map((function(e,a){return Object(b.jsx)(E,{item:e,isLastItem:a===t.length-1},a)}))}),Object(b.jsx)("div",{onClick:r,className:"carousel__arrow carousel__rightArrow",children:">"})]})})}),F=(a(45),function(e){var t,a=e.item,n=a.date,c=a.iconName,r=a.temperature;return Object(b.jsxs)("div",{className:"card-container",children:[Object(b.jsx)("div",{className:"card-container__date",children:n.getDate()}),Object(b.jsx)("img",{src:(t=c,"http://openweathermap.org/img/wn/".concat(t,"@2x.png")),alt:"weather icon"}),Object(b.jsx)("div",{className:"card-container__weather-temperature",children:r})]})}),T=function(e){return new Date(1e3*e)},K=function(e){var t="".concat(e);return t.length<2?"0".concat(t):t},A=function(e){var t=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return"".concat(t,"-").concat(K(a),"-").concat(K(n))},V=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),s=Object(l.a)(r,2),o=(s[0],s[1]),j=Object(n.useState)(),d=Object(l.a)(j,2),v=d[0],m=d[1],p=Object(n.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(t),e.prev=1,e.next=4,D({lat:t.value.lat,lon:t.value.lon});case 4:a=e.sent,console.log(a),c(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[]),h=Object(n.useMemo)((function(){if(a){var e=a.daily.map((function(e){var t=e.dt,a=e.weather,n=e.temp;return Object(b.jsx)(F,{item:{date:T(t),iconName:a[0].icon,temperature:n.day}})}));return Object(b.jsx)(L,{content:e})}}),[a]);return Object(b.jsx)(f,{title:"7 Days Forecast",inputComponents:[Object(b.jsx)(O,{value:v,options:x,onChange:p})],content:h})},z=function(e){var t=e.value,a=e.defaultValue,c=e.onChange,r=e.placeholder,s=void 0===r?"select":r,o=Object(n.useCallback)((function(e){c(new Date(e.target.value))}),[c]);return Object(b.jsx)("input",{value:t&&A(t),type:"date",className:"input",onChange:o,defaultValue:a&&A(a),placeholder:s})},J=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(),s=Object(l.a)(r,2),o=(s[0],s[1]),j=Object(n.useState)(),d=Object(l.a)(j,2),v=d[0],m=d[1],p=Object(n.useState)(),h=Object(l.a)(p,2),g=h[0],_=h[1],w=Object(n.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M({lat:t.value.lat,lon:t.value.lon,dt:(r=a,Math.round(r.getTime()/1e3))});case 3:n=e.sent,console.log(n),c(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),o(e.t0);case 12:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),[]),k=Object(n.useCallback)((function(e){m(e),g&&w(e,g)}),[w,g]),N=Object(n.useCallback)((function(e){_(e),v&&w(v,e)}),[w,v]),y=Object(n.useMemo)((function(){if(a){var e=a.current,t=e.dt,n=e.weather,c=e.temp;return Object(b.jsx)(F,{item:{date:T(t),iconName:n[0].icon,temperature:c}})}}),[a]);return Object(b.jsx)(f,{title:"Forecast for a Date in the Past",inputComponents:[Object(b.jsx)(O,{value:v,options:x,onChange:k}),Object(b.jsx)(z,{value:g,onChange:N})],content:y})},W=(a(46),function(){return Object(b.jsxs)("div",{className:"weather-cards",children:[Object(b.jsx)(V,{}),Object(b.jsx)(J,{})]})}),B=function(){return Object(b.jsxs)("div",{className:"forecastPage",children:[Object(b.jsxs)("div",{className:"forecastPage__title",children:[Object(b.jsx)("div",{className:"forecastPage__titleItem forecastPage__first",children:"Weather"}),Object(b.jsx)("div",{className:"forecastPage__titleItem forecastPage__second",children:"forecast"})]}),Object(b.jsx)(W,{})]})},R=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(B,{})})};s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ae694591.chunk.js.map